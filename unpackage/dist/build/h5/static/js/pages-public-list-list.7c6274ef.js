(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-list-list"],{"198d":function(t,n,e){"use strict";var o={"bx-list":e("e0d5").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[t.showSearchBar?e("v-uni-view",{staticClass:"search-bar"},[e("v-uni-view",{staticClass:"cu-bar search bg-white fixed"},[e("v-uni-view",{staticClass:"search-form round"},[e("v-uni-text",{staticClass:"cuIcon-search"}),e("v-uni-input",{attrs:{"adjust-position":!1,type:"text",placeholder:"搜索图片、文章、视频","confirm-type":"search"},on:{focus:function(n){arguments[0]=n=t.$handleEvent(n),t.searchBarFocus.apply(void 0,arguments)},blur:function(n){arguments[0]=n=t.$handleEvent(n),t.serachBarBlur.apply(void 0,arguments)}},model:{value:t.searchVal,callback:function(n){t.searchVal=n},expression:"searchVal"}})],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toSearch.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1),e("v-uni-view",{staticStyle:{height:"100upx",width:"100%"}},[t._v("占位")])],1):t._e(),e("bx-list",{ref:"bxList",attrs:{serviceName:t.serviceName,condition:t.condition,pageType:t.pageType,viewTemp:t.viewTemp,listConfig:t.listConfig,searchWords:t.searchVal,searchColumn:t.keyColumn,rownumber:5},on:{"click-list-item":function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem.apply(void 0,arguments)},"list-change":function(n){arguments[0]=n=t.$handleEvent(n),t.listChange.apply(void 0,arguments)},clickFootBtn:function(n){arguments[0]=n=t.$handleEvent(n),t.clickFootBtn.apply(void 0,arguments)},loadEnd:function(n){arguments[0]=n=t.$handleEvent(n),t.loadEnd.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"public-button-box"},[t.showAdd?e("v-uni-view",{staticClass:"add-button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickAddButton.apply(void 0,arguments)}}}):t._e()],1)],1)},a=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return a}),e.d(n,"a",function(){return o})},"3d2a":function(t,n,e){var o=e("f372");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=e("4f06").default;i("c2faca12",o,!0,{sourceMap:!1,shadowMode:!1})},7083:function(t,n,e){"use strict";e.r(n);var o=e("198d"),i=e("f332");for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);e("9f61");var s,c=e("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"78f1d9f4",null,!1,o["a"],s);n["default"]=r.exports},"9f61":function(t,n,e){"use strict";var o=e("3d2a"),i=e.n(o);i.a},a4fb:function(t,n,e){"use strict";var o=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("96cf");var i=o(e("3b8d")),a=o(e("e0d5")),s={components:{bxList:a.default},data:function(){return{serviceName:"",pageType:"",listConfig:{},srv_cols:[],condition:[],pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF"},fabContent:[],fabHorizontal:"left",fabVertical:"bottom",fabDirection:"horizontal",viewTemp:{},publicButton:[],searchVal:"",keyColumn:"name",showAdd:!1,noData:!1,showSearchBar:!0}},onReachBottom:function(){console.log("触底"),this.noData||(uni.showLoading({title:"加载中",mask:!0}),this.$refs.bxList.pageInfo.pageNo++,this.$refs.bxList.getListData().then(function(t){uni.hideLoading()}))},onLoad:function(t){if(t.viewTemp){var n=this.getDecodeUrl(t.viewTemp);this.viewTemp=JSON.parse(n)}t.hasOwnProperty("serviceName")&&t.hasOwnProperty("pageType")&&(console.log("list option:",t),this.serviceName=t.serviceName,this.pageType=t.pageType,this.getListV2())},methods:{toSearch:function(){this.searchVal;this.$refs.bxList.toSearch()},loadEnd:function(t){this.noData=!0},clickAddButton:function(){console.log("你点击了添加按钮:")},searchBarFocus:function(t){console.log("searchBarFocus:",t)},serachBarBlur:function(t){console.log("serachBarBlur:",t)},listChange:function(t){console.log("listChange:",t)},clickItem:function(t){var n={button:{button_name:"详情",button_type:"detail",service_name:this.serviceName},row:t};this.onButtonToUrl(n).then(function(t){console.log("clickItem :",t)}),console.log("click-list-item:",t)},clickFootBtn:function(t){var n=this;this.onButtonToUrl(t).then(function(e){console.log("footBTN :",e),t.button&&"delete"===t.button.button_type&&"SUCCESS"===e.state&&n.$refs.bxList.onRefresh()}),console.log("clickFootBtn:",t)},getListV2:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var n,e,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=uni.getStorageSync("activeApp"),t.next=3,this.getServiceV2(this.serviceName,"list","list",n);case 3:return e=t.sent,e.srv_cols=e.srv_cols.filter(function(t){return 1===t.in_list}),console.log("colVs",e),this.listConfig=e,this.publicButton=e.gridButton.filter(function(t){if(!0===t.permission)switch(t.button_type){case"add":return o.showAdd=!0,t;case"select":return o.showSearchBar=!0,t}}),t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()}};n.default=s},f332:function(t,n,e){"use strict";e.r(n);var o=e("a4fb"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);n["default"]=i.a},f372:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.add-button[data-v-78f1d9f4]{position:fixed;bottom:%?100?%;left:calc(50% - %?50?%);width:%?100?%;height:%?100?%;border-radius:50%;background-color:#007aff;z-index:100}.add-button[data-v-78f1d9f4]:before{position:absolute;width:%?8?%;height:%?60?%;left:calc(50% - %?4?%);top:%?20?%;content:"";background-color:#fff}.add-button[data-v-78f1d9f4]:after{position:absolute;width:%?60?%;height:%?8?%;content:"";top:calc(50% - %?4?%);left:%?20?%;background-color:#fff}.add-button[data-v-78f1d9f4]:active{-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transition:all .2s;transition:all .2s}',""])}}]);