(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-formPage-formPage"],{"0e37":function(t,e,n){"use strict";n.r(e);var a=n("8172"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=r.a},1873:function(t,e,n){"use strict";n.r(e);var a=n("bf96"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=r.a},8172:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"bx-button",props:{buttons:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{onclick:function(t){this.$emit("on-button-change",t)}}};e.default=a},8858:function(t,e,n){"use strict";var a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",t._l(t.buttons,function(e,a){return n("v-uni-button",{key:a,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onclick(e)}}},[t._v(t._s(e.button_name))])}),1)},i=[];n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a})},b70d:function(t,e,n){"use strict";n.r(e);var a=n("c668"),r=n("1873");for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);var s,o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"67597cd5",null,!1,a["a"],s);e["default"]=u.exports},bf96:function(t,e,n){"use strict";var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=a(n("3b8d")),i=a(n("2cd2")),s=a(n("cfc6")),o={components:{bxform:i.default,bxButtons:s.default},props:{},data:function(){return{fields:[],loadedType:"srvV2",colsV2Data:null,type:"",serviceName:"",condition:[],defaultCondition:[],params:{}}},computed:{buttons:function(){return this.colsV2Data._buttonInfo}},onLoad:function(t){t.params&&(this.params=JSON.parse(t.params)),t.hasOwnProperty("loadedType")?this.loadedType=t.loadedType:t.hasOwnProperty("params")?(this.serviceName=this.params.serviceName,this.type=this.params.type,this.condition=this.params.condition,this.defaultVal=this.params.defaultVal,this.getFieldsV2()):t.serviceName&&t.type?(this.serviceName=t.serviceName,this.type=t.type,this.getFieldsV2()):uni.showToast({title:"加载错误"})},methods:{getFieldsV2:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getServiceV2(this.serviceName,this.type,this.type);case 2:e=t.sent,this.colsV2Data=e,t.t0=this.type,t.next="update"===t.t0?7:"add"===t.t0?9:"detail"===t.t0?11:13;break;case 7:return this.fields=this.setFieldsDefaultVal(e._fieldInfo,this.params.defaultVal),t.abrupt("break",14);case 9:return this.fields=e._fieldInfo,t.abrupt("break",14);case 11:return this.fields=this.setFieldsDefaultVal(e._fieldInfo,this.params.defaultVal),t.abrupt("break",14);case 13:return t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onButton:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var n,a,r,i,s,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=this.$refs.bxForm.getFieldModel(),console.log(e,n),t.t0=e.button_type,t.next="edit"===t.t0?5:"submit"===t.t0?7:"reset"===t.t0?18:20;break;case 5:return"详情"===e.page_type||n&&(n=[{serviceName:e.service_name,data:[n],condition:this.condition}],a=uni.getStorageSync("activeApp"),this.getServiceUrl(a,e.service_name,"add"),this.onRequest("update",e.service_name,n).then(function(t){if(console.log("res:"+e.service_name,t),"SUCCESS"===t.data.state){var n=o.getResData(t.data.response);console.log("resData",n),uni.navigateBack()}})),t.abrupt("break",22);case 7:if(!n){t.next=17;break}return n=[{serviceName:e.service_name,data:[n]}],r=uni.getStorageSync("activeApp"),i=this.getServiceUrl(r,e.service_name,"add"),console.log(i,e),t.next=14,this.$http.post(i,n);case 14:s=t.sent,console.log(i,s.data),s.data.state;case 17:return t.abrupt("break",22);case 18:return this.$refs.bxForm.onReset().then(function(t){t?uni.showToast({title:"已重置"}):uni.showToast({title:"无效操作"})}),t.abrupt("break",22);case 20:return uni.showToast({title:e.button_name}),t.abrupt("break",22);case 22:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}};e.default=o},c668:function(t,e,n){"use strict";var a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[t.colsV2Data.service_view_name?n("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.colsV2Data.service_view_name))]):t._e()],2),n("bxform",{ref:"bxForm",attrs:{pageType:t.type,BxformType:t.type,fields:t.fields}}),"detail"!==t.type?n("bxButtons",{attrs:{buttons:t.buttons},on:{"on-button-change":function(e){arguments[0]=e=t.$handleEvent(e),t.onButton(e)}}}):t._e()],1)},i=[];n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a})},cfc6:function(t,e,n){"use strict";n.r(e);var a=n("8858"),r=n("0e37");for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);var s,o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"32e6d546",null,!1,a["a"],s);e["default"]=u.exports}}]);